@import url('https://fonts.googleapis.com/css?family=Open+Sans:300,400|Merriweather:700')

$gutter: 3vw

*
	box-sizing: border-box

body
	font-family: 'Open Sans', sans-serif
	user-select: none
	-moz-user-select: none
	-webkit-user-select: none
	padding: 0 $gutter
	background: url('../img/bg-stripes.jpg')
	color: #ccc

$menuhgt: 70px
nav
	display: flex
	flex-direction: column
	position: fixed
	bottom: -520px
	left: 0
	text-align: center
	width: 100vw
	transition: bottom 0.2s ease-in-out
	height: 600px
	z-index: 2
	box-shadow: 0 0 10px 5px rgba(0,0,0,0.7)
	background: url('../img/bg-noise.jpg')

	.border
		position: absolute
		top: 0
		right: 0
		width: 100%
		height: 10px
		background: url('../img/wood-horiz.png')
		background-size: cover-y
	.options .border
		right: -10px
		width: calc(100% + 20px)
		transform: scaleX(-1)

	.button
		position: absolute
		top: 10px
		right: 0
		width: $menuhgt - 10px
		height: $menuhgt - 10px
		transition: 0.2s ease-in-out
		z-index: 2
		&:hover
			cursor: pointer

		div, div:before, div:after
			content: ''
			display: block
			background: #aaa
			position: absolute
			height: 5px
			width: 30px
			border-radius: 2px
			transform: none
			transition: 0.2s ease-in-out
		div
			top: 27px
			right: 14px
			&:before
				position: relative
				top: -11px
			&:after
				position: relative
				top: 6px

	&.open .button
		div
			opacity: 1
			transform: rotate(45deg)
			&:before
				opacity: 0
			&:after
				top: -5px
				transform: rotate(-90deg)

	.controls
		width: 100%
		padding-top: 20px
		label
			vertical-align: middle
			input
				display: none

			span
				font-weight: 300
				vertical-align: middle
				&:hover
					cursor: pointer
				
		.mode
			cursor: pointer
			border-style: solid
			border-width: 1px
			border-color: #ccc
			border-radius: 3px 0 0 3px
			padding: 7px 40px 7px 32px
			box-shadow: inset 0 0 5px rgba(0,0,0,0.6)
			position: absolute
			top: 23px
			left: 10px
			&:hover
				border-style: solid
				border-color: #ccc

			input
				display: inline-block
				border: none
				border-radius: 100%
				background: #fff !important
				padding: 0
				height: 8px
				width: 8px
				vertical-align: middle
				appearance: textfield
				-moz-appearance: textfield
				-webkit-appearance: textfield
				position: relative
				left: 7px
				top: -2px
				transition: 0.1s ease-in-out
				outline: none
				cursor: pointer

			span
				font-weight: 300
				display: inline-block
				border: none
				background: #fff
				height: 2px
				padding: 0
				width: 16px
				position: relative
				top: -2px
				
				&:before,&:after
					display: inline-block
					position: relative
					transition: 0.1s ease-in-out
				&:before
					content: 'Buy'
					top: -9px
					left: -33px
					opacity: 1
				&:after
					content:'Sell'
					top: -27px
					left: 23px
					opacity: 0.2

			input:checked
				position: relative
				left: 17px
				& ~ span
					&:before
						opacity: 0.2
					&:after
						opacity: 1

		input[type='number']
			border-style: solid
			border-color: #ccc
			border-width: 1px 1px 1px 0
			border-radius: 0 3px 3px 0
			position: absolute
			top: 23px
			left: 108px
			vertical-align: middle
			appearance: textfield
			-moz-appearance: textfield
			-webkit-appearance: textfield
			width: 60px
			height: 34px
			background: rgba(255,255,255,0.15)
			color: #fff
			text-align: center
			font-size: 1.3em
			font-family: 'Merriweather', serif
			&:focus
				background: rgba(255,255,255,0.25)

	.options
		position: absolute
		top: $menuhgt
		padding-top: 25px
		flex: 1
		h2
			font-family: 'Merriweather', serif
			margin: 0 0 3px 0

		.buffs, .settings
			margin-top: 15px

		label
			display: inline-block
			margin: 10px 5px

			input[type="checkbox"]
				display: none

			span
				font-weight: 300
				border-style: outset
				border-width: 1px
				border-color: #ccc #777 #777 #ccc
				border-radius: 3px
				padding: 2px 10px
				opacity: 0.3
				box-shadow: inset 0 0 5px rgba(0,0,0,0.6)

				&:hover
					cursor: pointer
					border-style: solid
					border-color: #ccc

			input:checked ~ span
				opacity: 1

			input[type="radio"]
				cursor: pointer
				appearance: textfield
				-moz-appearance: textfield
				-webkit-appearance: textfield
				width: 17px
				height: 17px
				margin-left: 4px
				opacity: 0.15
				position: relative
				top: 3px
				outline: none
				&:checked
					opacity: 1
			input[value="diamond"]
				background: url('../img/diamond.png')
				background-size: contain
				margin-left: 8px
			input[value="ruby"]
				background: url('../img/ruby.png')
				background-size: contain
			input[value="jade"]
				background: url('../img/jade.png')
				background-size: contain
			
		input[name="Short numbers"]
			& ~ span:after
				content: " OFF"
			&:checked ~ span:after
				content: " ON"

		input[type="button"]
			display: none
			& ~ span
				opacity: 1
			&:active ~ span
				opacity: 0.7
	footer
		font-size: 0.55em
		text-align: center
		width: 100%
		margin-top: 20px
		color: #444
		a
			text-decoration: none
			color: #777

.screen
	z-index: 1
	display: block
	position: fixed
	top: 0
	left: 0
	width: 100vw
	height: 100vh
	background: black
	opacity: 0
	transition: 0.3s ease-in-out
	&.open
		opacity: 0.4
	&.hidden
		display: none

main
	width: 100vw - 2 * $gutter

h1
	color: #fff
	font-family: 'Merriweather', serif
	margin: 20px 0 15px 0
	text-align: center

.buildings
	padding: 0
	display: flex
	flex-direction: column
	position: absolute
	width: inherit
	padding-bottom: $menuhgt + 20px

	div
		$hgt: 35px
		display: flex

		img, input, .output
			display: inline-block
			height: $hgt
			border-style: solid
			border-color: grey
			margin: 3px 0
			vertical-align: top

		img
			border-radius: 3px 0 0 3px
			border-width: 1px
		
		img, .output
			background: url('../img/bg-noise.jpg')

		input
			appearance: textfield
			-moz-appearance: textfield
			-webkit-appearance: textfield
			border-radius: 0
			border-width: 1px 1px 1px 0
			width: 55px
			background: rgba(255,255,255,0.15)
			color: #fff
			text-align: center
			font-size: 1.2em
			font-family: 'Merriweather', serif
			padding-bottom: 2px
			&:focus
				background: rgba(255,255,255,0.25)
		
		.output
			border-radius: 0 3px 3px 0
			border-width: 1px 1px 1px 0
			flex-grow: 1
			padding: 7px 5px
			&:before
				content: ''
				position: relative
				top: 2px
				left: -1px
				display: inline-block
				width: 13px
				height: 13px
				background-size: cover
				background-image: url('../img/money.png')
		
		span.infinity
			position: relative
			top: 3px
			font-size: 1.5em
			line-height: 0

input:invalid
	border: none
	outline: none
	box-shadow: none
	-moz-box-shadow: none
	-webkit-box-shadow: none

@media (max-width: 850px)
	nav.open
			bottom: -190px
@media (max-width: 720px)
	nav.open
			bottom: -150px
@media (max-width: 520px)
	nav.open
			bottom: -115px
@media (max-width: 416px)
	nav.open
			bottom: -75px
@media (max-width: 357px)
	nav.open
			bottom: -35px
@media (max-width: 307px)
	nav.open
			bottom: 0px


@media (min-width: 500px)
	.buildings
		width: 400px
		position: absolute
		left: calc(50% - 200px)

@media (min-width: 850px)
	.buildings
		left: calc(320px + (20px * 2) + 50vw - (720px / 2) - 30px)//320px + (20px * 2)
	nav
		width: 320px
		padding: 0 10px 0 10px
		height: 610px
		left: calc(20px + 50vw - (720px / 2) - 30px)//20px
		position: absolute
		top: 74px
		.button
			display: none
		.controls
			.nums
				right: 20px
			.mode
				left: 20px
			input[name="quantity"]
				left: 118px
			.border
				&:before, &:after
					content: ''
					display: block
					position: absolute
					top: 1px
					height: 609px
					width: 10px
					background: url('../img/wood-vert.png') repeat-y
					background-size: cover-x
					z-index: 1
				&:before
					right: 0
				&:after
					left: 0
					transform: scaleY(-1)
		.options
			width: 300px
	nav:before
		content: ''
		display: block
		position: absolute
		bottom: 0px
		left: 0
		height: 10px
		width: 100%
		background: url('../img/wood-horiz.png') repeat-x
		background-size: cover-x
