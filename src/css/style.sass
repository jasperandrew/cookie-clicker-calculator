@import url('https://fonts.googleapis.com/css?family=Open+Sans:300,400|Merriweather:700')

$gutter: 3vw

*
	box-sizing: border-box

body
	font-family: 'Open Sans', sans-serif
	user-select: none
	-moz-user-select: none
	-webkit-user-select: none
	padding: $gutter
	background: url('../img/bg-stripes.jpg')
	color: #ccc

$menuhgt: 60px
nav
	display: flex
	flex-direction: column
	position: fixed
	bottom: 0
	left: 0
	text-align: center
	width: 100vw
	overflow: hidden
	vertical-align: bottom
	transition: 0.2s ease-in-out
	height: $menuhgt
	z-index: 2
	background: lightgrey
	box-shadow: 0 0 10px 5px rgba(0,0,0,0.7)
	background: url('../img/bg-noise.jpg')
	&.open
		height: 420px

	.border
		position: absolute
		top: 0
		right: 0
		width: 100vw
		height: 10px
		background: url('../img/border-wood.png')

	.button
		position: absolute
		top: 21px
		right: 14px
		width: 30px
		height: 27px
		transition: 0.2s ease-in-out
		z-index: 2
		&:hover
			cursor: pointer

		div, div:before, div:after
			content: ''
			display: block
			background: #aaa
			position: absolute
			height: 5px
			width: 30px
			border-radius: 2px
			transform: none
			transition: 0.2s ease-in-out
		div
			top: 11px
			&:before
				position: relative
				top: -11px
			&:after
				position: relative
				top: 6px

	&.open .button
		div
			opacity: 1
			transform: rotate(45deg)
			&:before
				opacity: 0
			&:after
				top: -5px
				transform: rotate(-90deg)

	.controls
		width: 100%
		padding-top: 20px
		label
			vertical-align: middle
			input
				display: none

			span
				font-weight: 300
				vertical-align: middle
				&:hover
					cursor: pointer
				
		.mode
			cursor: pointer
			border-style: solid
			border-width: 1px
			border-color: #ccc
			border-radius: 3px 0 0 3px
			padding: 5px 40px 3px 34px
			box-shadow: inset 0 0 5px rgba(0,0,0,0.6)
			position: absolute
			top: 21px
			left: 10px
			&:hover
				border-style: solid
				border-color: #ccc

			input
				display: inline-block
				border: none
				border-radius: 100%
				background: #fff !important
				padding: 0
				height: 8px
				width: 8px
				vertical-align: middle
				appearance: textfield
				-moz-appearance: textfield
				-webkit-appearance: textfield
				position: relative
				left: 7px
				top: -2px
				transition: 0.1s ease-in-out
				outline: none
				cursor: pointer

			span
				font-weight: 300
				display: inline-block
				border: none
				background: #fff
				height: 2px
				padding: 0
				width: 16px
				position: relative
				top: -2px
				
				&:before,&:after
					display: inline-block
					position: relative
					transition: 0.1s ease-in-out
				&:before
					content: 'Buy'
					top: -9px
					left: -33px
					opacity: 1
				&:after
					content:'Sell'
					top: -27px
					left: 23px
					opacity: 0.2

			input:checked
				position: relative
				left: 17px
				& ~ span
					&:before
						opacity: 0.2
					&:after
						opacity: 1

		input[type='number']
			border-style: solid
			border-color: #ccc
			border-width: 1px 1px 1px 0
			border-radius: 0 3px 3px 0
			position: absolute
			top: 21px
			left: 110px
			vertical-align: middle
			appearance: textfield
			-moz-appearance: textfield
			-webkit-appearance: textfield
			width: 60px
			height: 28px
			background: rgba(255,255,255,0.15)
			color: #fff
			text-align: center
			font-size: 1.3em
			font-family: 'Merriweather', serif
			padding-bottom: 3px
			&:focus
				background: rgba(255,255,255,0.25)

		.nums
			position: absolute
			top: 24px
			right: 58px
			span
				border-style: outset
				border-width: 1px
				border-color: #ccc #777 #777 #ccc
				border-radius: 3px
				padding: 2px 10px
				opacity: 0.3
				box-shadow: inset 0 0 5px rgba(0,0,0,0.6)
				&:hover
					border-style: solid
					border-color: #ccc
				&:after
					content:'OFF'

			input:checked ~ span
				opacity: 1
				&:after
					content:'ON'


	.settings
		position: absolute
		top: $menuhgt
		padding-top: 25px
		h2
			font-family: 'Merriweather', serif
			margin: 0 0 3px 0

		.upgrades
			margin-top: 15px

		label
			display: inline-block
			margin: 10px 5px

			input[type="checkbox"]
				display: none

			span
				font-weight: 300
				border-style: outset
				border-width: 1px
				border-color: #ccc #777 #777 #ccc
				border-radius: 3px
				padding: 2px 10px
				opacity: 0.3
				box-shadow: inset 0 0 5px rgba(0,0,0,0.6)

				&:hover
					cursor: pointer
					border-style: solid
					border-color: #ccc

			input:checked ~ span
				opacity: 1

			input[type="radio"]
				cursor: pointer
				appearance: textfield
				-moz-appearance: textfield
				-webkit-appearance: textfield
				width: 17px
				height: 17px
				margin-left: 4px
				opacity: 0.15
				position: relative
				top: 3px
				outline: none
				&:checked
					opacity: 1
			input[value="diamond"]
				background: url('../img/diamond.png')
				background-size: contain
				margin-left: 8px
			input[value="ruby"]
				background: url('../img/ruby.png')
				background-size: contain
			input[value="jade"]
				background: url('../img/jade.png')
				background-size: contain

.screen
	z-index: 1
	display: block
	position: fixed
	top: 0
	left: 0
	width: 100vw
	height: 100vh
	background: black
	opacity: 0
	transition: 0.3s ease-in-out
	&.open
		opacity: 0.3
	&.hidden
		display: none

main
	width: 100%

h1
	color: #fff
	font-family: 'Merriweather', serif
	margin: 0 0 15px 0
	text-align: center

.buildings
	padding: 0
	display: flex
	flex-direction: column
	position: absolute
	width: 100vw - 2 * $gutter
	padding-bottom: $menuhgt + 10px

	div
		$hgt: 30px
		display: flex

		img, input, .output
			display: inline-block
			height: $hgt
			border-style: solid
			border-color: grey
			margin: 3px 0
			vertical-align: top

		img
			border-radius: 3px 0 0 3px
			border-width: 1px

		input
			appearance: textfield
			-moz-appearance: textfield
			-webkit-appearance: textfield
			border-radius: 0
			border-width: 1px 1px 1px 0
			width: $hgt * 2
			background: rgba(255,255,255,0.15)
			color: #fff
			text-align: center
			font-size: 1.2em
			font-family: 'Merriweather', serif
			padding-bottom: 2px
			&:focus
				background: rgba(255,255,255,0.25)
		
		.output
			border-radius: 0 3px 3px 0
			border-width: 1px 1px 1px 0
			flex-grow: 1
